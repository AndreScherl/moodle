define(["jquery","core/str"],function(a,b){function c(b){var c=a('input[id^="course_"]');c.each(function(){a(this).prop("checked",b.checked)})}function d(){var b=a('input[id^="course_"]'),c=[];return b.each(function(){a(this).prop("checked")&&c.push(a(this).val())}),c}function e(){if(!a("#id_bulkaction").val())return b.get_string("bulkactionrequired","report_mbs").done(function(a){window.alert(a)}),!1;var c=d();return 0===c.length?(b.get_string("selectonecourse","report_mbs").done(function(a){window.alert(a)}),!1):(a("#id_courseids").val(c.join(",")),!0)}return{init:function(){a("#coursecheckall").click(function(){c(this)}),a("#bulkaction-form").submit(function(){return e()})}}});