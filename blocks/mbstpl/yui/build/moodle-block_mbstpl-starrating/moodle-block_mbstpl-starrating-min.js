YUI.add("moodle-block_mbstpl-starrating",function(e,t){M.block_mbstpl=M.block_mbstpl||{},M.block_mbstpl.starrating={init:function(t,n){function u(e){var t=parseInt(e.get("value"),10);if(t)return t;var n=e.get("id"),r=n.match(/^.+_(\d+)$/);return r?parseInt(r[1],10):null}function a(e,t){e.removeClass(t?"emptystar":"fullstar"),e.addClass(t?"fullstar":"emptystar")}function f(){for(var e=0,t;e<s;e++){t=i.item(e);if(t.get("checked"))return u(t)}return 0}function l(e){for(var t in o)a(o[t],t<=e)}function c(){var e=f();l(e)}function h(){var t=e.one(this.getDOMNode().control),n=u(t);l(n)}var r="input[type=radio]#",i=e.all(r+t.join(","+r)),s=i.size(),o={};for(var p=0,d=f();p<s;p++){var v=i.item(p),m=u(v),g=v.getAttribute("id"),y=v.ancestor(),b=e.Node.create('<label for="'+g+'"></label>');n||(b.on("mouseover",h),b.on("mouseout",c)),b.addClass("star"),y.addClass("templaterating"),b.appendTo(y),o[m]=b,v.setStyle("display","none"),a(b,m<=d)}}}},"@VERSION@",{requires:["base","node"]});
